diff --git a/absl/meta/type_traits.h b/absl/meta/type_traits.h
index 1234567..abcdefg 100644
--- a/absl/meta/type_traits.h
+++ b/absl/meta/type_traits.h
@@ -306,7 +306,8 @@ using underlying_type_t = typename std::underlying_type<T>::type;
 namespace type_traits_internal {
 
 #if (defined(__cpp_lib_is_invocable) && __cpp_lib_is_invocable >= 201703L) || \
-    (defined(_MSVC_LANG) && _MSVC_LANG >= 201703L)
+    (defined(_MSVC_LANG) && _MSVC_LANG >= 201703L) || \
+    (defined(__cplusplus) && __cplusplus >= 201703L)
 // std::result_of is deprecated (C++17) or removed (C++20)
 template <typename>
 struct result_of;
